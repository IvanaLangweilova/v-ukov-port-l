<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>Výukový portál ZŠ – procvičování</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* CSS styly zůstávají stejné jako ve vašem původním návrhu */
        * { box-sizing: border-box; }
        body {
            margin: 0; padding: 0; font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background: radial-gradient(circle at 15% 20%, rgba(255, 234, 167, 0.55), transparent 60%), radial-gradient(circle at 85% 30%, rgba(250, 177, 160, 0.55), transparent 60%), radial-gradient(circle at 30% 85%, rgba(129, 236, 236, 0.55), transparent 60%), radial-gradient(circle at 80% 80%, rgba(116, 185, 255, 0.55), transparent 60%), #ffffff;
            background-attachment: fixed; background-size: cover; min-height: 100vh; display: flex; flex-direction: column;
        }
        header { background: rgba(45, 52, 54, 0.9); color: #ffffff; padding: 1rem; text-align: center; box-shadow: 0 2px 6px rgba(0,0,0,0.25); position: sticky; top: 0; z-index: 10; }
        header h1 { margin: 0.2rem 0; font-size: 1.6rem; }
        header p { margin: 0; font-size: 0.95rem; opacity: 0.9; }
        main { flex: 1; display: flex; justify-content: center; padding: 1.5rem 0.5rem 2rem; }
        .app-card { width: 100%; max-width: 1000px; background: #ffffff; border-radius: 16px; box-shadow: 0 10px 25px rgba(0,0,0,0.20); padding: 1.5rem; animation: cardIn 0.5s ease-out; }
        @keyframes cardIn { from { opacity: 0; transform: translateY(10px) scale(0.98); } to { opacity: 1; transform: translateY(0) scale(1); } }
        section { display: none; }
        section.active { display: block; }
        .intro { text-align: center; padding: 1rem; }
        .intro-title { font-size: 1.8rem; margin-bottom: 0.5rem; }
        .intro-subtitle { font-size: 1rem; color: #636e72; margin-bottom: 1.5rem; }
        .intro-graphic { margin: 1rem auto 1.5rem; width: 200px; height: 200px; border-radius: 50%; background: radial-gradient(circle at 30% 20%, #ffeaa7, #fab1a0, #6c5ce7); display: flex; align-items: center; justify-content: center; color: #ffffff; font-size: 2.2rem; font-weight: 700; box-shadow: 0 10px 25px rgba(0,0,0,0.3); animation: float 2.5s ease-in-out infinite; }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-8px); } }
        .intro-buttons { display: flex; flex-wrap: wrap; justify-content: center; gap: 1rem; }
        button { padding: 0.55rem 0.9rem; font-size: 0.95rem; cursor: pointer; border-radius: 999px; border: none; font-weight: 600; letter-spacing: 0.02em; transition: transform 0.12s ease, box-shadow 0.12s ease, background-color 0.12s ease, opacity 0.12s ease; }
        button:disabled { opacity: 0.6; cursor: not-allowed; box-shadow: none; }
        button:hover:not(:disabled) { transform: translateY(-1px); box-shadow: 0 4px 8px rgba(0,0,0,0.15); }
        .btn-primary { background: #0984e3; color: #ffffff; }
        .btn-primary:hover:not(:disabled) { background: #0769b6; }
        .btn-outline { background: #ffffff; color: #2d3436; border: 1px solid #b2bec3; }
        .btn-outline:hover:not(:disabled) { background: #ecf0f1; }
        .subjects-header { display: flex; justify-content: space-between; align-items: center; gap: 0.5rem; margin-bottom: 1rem; }
        .subjects-title { font-size: 1.3rem; font-weight: 600; }
        .subjects-subtitle { font-size: 0.9rem; color: #636e72; }
        .subjects-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 0.75rem; }
        .subject-card { background: #f9fafb; border-radius: 12px; padding: 0.7rem; text-align: center; border: 1px solid #dfe6e9; cursor: pointer; display: flex; flex-direction: column; gap: 0.3rem; align-items: center; justify-content: center; min-height: 100px; transition: transform 0.12s ease, box-shadow 0.12s ease, border-color 0.12s; }
        .subject-card:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.15); border-color: #0984e3; }
        .subject-icon { width: 40px; height: 40px; border-radius: 999px; display: flex; align-items: center; justify-content: center; font-weight: 700; color: #ffffff; font-size: 1.1rem; }
        .subject-name { font-weight: 600; font-size: 0.95rem; }
        .subject-note { font-size: 0.75rem; color: #636e72; }
        .subject-disabled { opacity: 0.6; cursor: default; }
        .subject-disabled:hover { transform: none; box-shadow: none; border-color: #dfe6e9; }
        /* Styly pro ovládací panel (výběr ročníku/tématu) */
        .controls { display: flex; flex-wrap: wrap; gap: 1rem; margin-bottom: 1.2rem; align-items: flex-end; }
        .controls-group { display: flex; flex-direction: column; gap: 0.25rem; min-width: 130px; }
        .controls label { font-weight: 600; font-size: 0.9rem; color: #2d3436; }
        select { padding: 0.45rem 0.6rem; font-size: 0.95rem; border-radius: 10px; border: 1px solid #dfe6e9; background-color: #f5f6fa; outline: none; transition: border-color 0.15s, box-shadow 0.15s, background-color 0.15s; }
        select:focus { border-color: #0984e3; box-shadow: 0 0 0 2px rgba(9,132,227,0.20); background-color: #ffffff; }
        .mode-buttons { display: flex; gap: 0.5rem; }
        .mode-button { background: #dfe6e9; color: #2d3436; }
        .mode-button.active { background: #00b894; color: white; box-shadow: 0 4px 10px rgba(0,184,148,0.5); }
        #quiz-area { margin-top: 1rem; border-top: 1px solid #dfe6e9; padding-top: 1rem; }
    </style>
</head>
<body>

    <header>
        <h1>Výukový portál ZŠ</h1>
        <p>Interaktivní procvičování</p>
    </header>

    <main>
        <div class="app-card">

            <!-- Úvodní obrazovka -->
            <section id="intro-screen" class="active">
                <div class="intro">
                    <h2 class="intro-title">Vítejte, vyberte si stupeň:</h2>
                    <p class="intro-subtitle">Zvolte si, pro který stupeň základní školy chcete procvičovat učivo.</p>
                    <div class="intro-graphic">ZŠ</div>
                    <div class="intro-buttons">
                        <button class="btn-primary" onclick="navigateTo('#section1')">
                            1. stupeň ZŠ (1. - 5. třída)
                        </button>
                        <button class="btn-primary" onclick="navigateTo('#section2')">
                            2. stupeň ZŠ (6. - 9. třída)
                        </button>
                    </div>
                </div>
            </section>

            <!-- Sekce pro 1. stupeň ZŠ -->
            <section id="section1">
                <div class="subjects-header">
                    <h3 class="subjects-title">1. stupeň ZŠ – Předměty</h3>
                    <button class="btn-outline" onclick="navigateTo('#intro-screen')">Zpět</button>
                </div>
                <p class="subjects-subtitle">Vyberte si předmět k procvičování.</p>
                <div class="subjects-grid">
                    <!-- Přidán onclick handler pro matematiku 1. stupně -->
                    <div class="subject-card" onclick="selectSubject('math1')">
                        <div class="subject-icon" style="background: #e17055;">M</div>
                        <span class="subject-name">Matematika</span>
                        <span class="subject-note">(1.-5. tř.)</span>
                    </div>
                    <!-- další předměty zde -->
                </div>
            </section>

            <!-- Sekce pro 2. stupeň ZŠ -->
            <section id="section2">
                <div class="subjects-header">
                    <h3 class="subjects-title">2. stupeň ZŠ – Předměty</h3>
                    <button class="btn-outline" onclick="navigateTo('#intro-screen')">Zpět</button>
                </div>
                <p class="subjects-subtitle">Vyberte si předmět k procvičování.</p>

                <div class="subjects-grid">
                    <!-- Přidán onclick handler pro češtinu a matematiku 2. stupně -->
                    <div class="subject-card" onclick="selectSubject('czech2')">
                        <div class="subject-icon" style="background: #00b894;">ČJ</div>
                        <span class="subject-name">Český jazyk</span>
                        <span class="subject-note">(6.-9. tř.)</span>
                    </div>
                    <div class="subject-card" onclick="selectSubject('math2')">
                        <div class="subject-icon" style="background: #e17055;">M</div>
                        <span class="subject-name">Matematika</span>
                        <span class="subject-note">(6.-9. tř.)</span>
                    </div>
                    <!-- další předměty zde -->
                </div>
            </section>

            <!-- Sekce pro výběr ročníku a tématu (nová) -->
            <section id="selection-screen">
                <div class="subjects-header">
                    <h3 class="subjects-title" id="selection-title">Výběr tématu</h3>
                    <button class="btn-outline" onclick="goBackFromSelection()">Zpět na předměty</button>
                </div>

                <div class="controls">
                    <div class="controls-group">
                        <label for="grade-select">Ročník (třída):</label>
                        <select id="grade-select" onchange="updateTopics()">
                            <!-- Možnosti budou generovány JavaScriptem podle předmětu -->
                        </select>
                    </div>
                    <div class="controls-group">
                        <label for="topic-select">Téma (dle RVP):</label>
                        <select id="topic-select">
                             <!-- Možnosti budou generovány JavaScriptem podle ročníku -->
                        </select>
                    </div>
                    <div class="controls-group">
                        <label>Typ cvičení:</label>
                        <div class="mode-buttons">
                            <!-- onclick handlery spustí logiku kvízu, kterou zatím nemáme -->
                            <button id="mode-practice" class="mode-button active">Procvičovat</button>
                            <button id="mode-test" class="mode-button">Ostrý test</button>
                        </div>
                    </div>
                    <!-- onclick handler spustí logiku kvízu, kterou zatím nemáme -->
                    <button class="btn-primary" onclick="startQuiz()">Spustit</button>
                </div>

                <div id="quiz-area">
                    <!-- Zde se bude zobrazovat samotný kvíz po kliknutí na "Spustit" -->
                    <p>Po spuštění se zde objeví otázky...</p>
                </div>
            </section>

        </div>
    </main>

    <!-- ZDE ZAČÍNÁ JAVASCRIPT LOGIKA -->

    <script>
        // Data s otázkami pro různé předměty a stupně (RVP témata)
        // Používáme strukturu, která odpovídá vaší představě: Předmět -> Ročník -> Téma -> Otázky
        const appData = {
            'math2': { // Matematika 2. stupeň ZŠ
                name: "Matematika (2. st.)",
                grades: [6, 7, 8, 9],
                topics: {
                    7: [ // Otázky pro 7. ročník
                        {
                            topicName: "Základy procent",
                            questions: [
                                {
                                    text: "Základní procenta: 50 % z 200 je:",
                                    options: ["50", "75", "100", "150"],
                                    correctIndex: 2
                                },
                                {
                                    text: "Autobus jede průměrnou rychlostí 60 km/h a jede 2,5 hodiny. Kolik kilometrů ujede?",
                                    options: ["120 km", "130 km", "140 km", "150 km"],
                                    correctIndex: 3
                                },
                                {
                                    text: "Kolik procent je 30 ze 120?",
                                    options: ["20 %", "25 %", "30 %", "40 %"],
                                    correctIndex: 1
                                }
                            ]
                        },
                        {
                            topicName: "Poměry a měřítka",
                            questions: [
                                // Zde budou další otázky k tomuto tématu
                            ]
                        }
                    ],
                    // Zde budou 6., 8., 9. ročník atd.
                }
            },
            'czech2': { // Český jazyk 2. stupeň ZŠ
                 name: "Český jazyk (2. st.)",
                 grades: [6, 7, 8, 9],
                 topics: { /* ... data pro ČJ ... */ }
            },
            'math1': { // Matematika 1. stupeň ZŠ
                 name: "Matematika (1. st.)",
                 grades: [1, 2, 3, 4, 5],
                 topics: { /* ... data pro 1. stupeň ... */ }
            }
        };

        let currentSubjectId = null;
        let previousSectionId = null;

        // Funkce pro přepínání sekcí
        function navigateTo(targetSelector) {
            // Uložíme si, odkud přicházíme, pro tlačítko zpět
            const activeSection = document.querySelector('section.active');
            if (activeSection) {
                previousSectionId = '#' + activeSection.id;
            }

            document.querySelectorAll('section').forEach(section => {
                section.classList.remove('active');
            });

            const targetSection = document.querySelector(targetSelector);
            if (targetSection) {
                targetSection.classList.add('active');
                document.querySelector('.app-card').scrollTop = 0;
            }
        }

        // Funkce, která se spustí po kliknutí na ikonu předmětu
        function selectSubject(subjectId) {
            currentSubjectId = subjectId;
            // Přepne na obrazovku výběru ročníku/tématu
            navigateTo('#selection-screen');
            // Naplní select boxy správnými ročníky a tématy
            initializeSelectionScreen();
        }

        // Funkce pro návrat ze selection-screen zpět na výběr stupně (sekce 1 nebo 2)
        function goBackFromSelection() {
            // Vracíme se na předchozí sekci, což je buď #section1 nebo #section2
            if (previousSectionId) {
                navigateTo(previousSectionId);
            } else {
                // Nouzové řešení, kdyby previousSectionId neexistovalo (např. při refreshnutí stránky na této obrazovce)
                navigateTo('#intro-screen');
            }
        }


        // Inicializace select boxů
        function initializeSelectionScreen() {
            const subjectData = appData[currentSubjectId];
            if (!subjectData) return;

            document.getElementById('selection-title').textContent = subjectData.name + " – Výběr";

            const gradeSelect = document.getElementById('grade-select');
            // Vyčistíme staré možnosti
            gradeSelect.innerHTML = '<option value="">Vyberte ročník</option>';

            // Přidáme možnosti ročníků
            subjectData.grades.forEach(grade => {
                const option = document.createElement('option');
                option.value = grade;
                option.textContent = grade + ". třída";
                gradeSelect.appendChild(option);
            });

            // Vyvoláme updateTopics, aby se inicializovala i témata pro první ročník (pokud existuje)
            updateTopics();
        }

        // Aktualizuje témata po změně ročníku
        function updateTopics() {
            const gradeSelect = document.getElementById('grade-select');
            const topicSelect = document.getElementById('topic-select');
            const selectedGrade = parseInt(gradeSelect.value);
            const subjectData = appData[currentSubjectId];

            topicSelect.innerHTML = '<option value="">Vyberte téma</option>';

            if (selectedGrade && subjectData && subjectData.topics[selectedGrade]) {
                const topics = subjectData.topics[selectedGrade];
                topics.forEach((topic, index) => {
                    const option = document.createElement('option');
                    // Index tématu použijeme jako hodnotu
                    option.value = index;
                    option.textContent = topic.topicName;
                    topicSelect.appendChild(option);
                });
            }
        }

        // Funkce pro spuštění kvízu (ZATÍM PRÁZDNÁ - ZDE MUSÍ BÝT VAŠE LOGIKA)
        function startQuiz() {
            const selectedGrade = document.getElementById('grade-select').value;
            const selectedTopicIndex = document.getElementById('topic-select').value;
            const isPracticeMode = document.getElementById('mode-practice').classList.contains('active');

            if (!selectedGrade || selectedTopicIndex === "") {
                alert("Prosím, vyberte ročník a téma.");
                return;
            }

            // Zde musí následovat vaše implementace:
            // 1. Načíst správná data z appData
            // 2. Zamíchat otázky/odpovědi (pro test)
            // 3. Spustit časovač (pro test)
            // 4. Začít zobrazovat první otázku v divu #quiz-area

            console.log(`Spouštím kvíz: Předmět ${currentSubjectId}, Ročník ${selectedGrade}, Téma Index ${selectedTopicIndex}, Režim: ${isPracticeMode ? 'Procvičování' : 'Ostrý test'}`);
            
            // alert("Logika kvízu zatím není implementována!");
        }

        // Přepínání aktivního tlačítka režimu (Procvičovat/Ostrý test)
        document.getElementById('mode-practice').addEventListener('click', function() {
            this.classList.add('active');
            document.getElementById('mode-test').classList.remove('active');
        });

        document.getElementById('mode-test').addEventListener('click', function() {
            this.classList.add('active');
            document.getElementById('mode-practice').classList.remove('active');
        });

    </script>
</body>
</html>
